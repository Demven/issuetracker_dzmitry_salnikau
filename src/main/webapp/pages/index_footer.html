<div class="footer"></div>

<script type="text/javascript" language="javascript">
	var MAX_ISSUES = 10;
	parseIssuesData();

	// parse all the issues data, sending by server and input it into the table
	function parseIssuesData(){
		var issues_data = document.getElementById("issues_data").querySelectorAll("#issueObject");
		var issues_number;
		if(issues_data.length > MAX_ISSUES){
			issues_number = MAX_ISSUES;
		} else{
			issues_number = issues_data.length;
		}
		
		// table
		var table = document.querySelector(".issue_table");
		var issue_lines = table.querySelector("#issue_lines");
		var issue_line_template = issue_lines.innerHTML;
		
		// form html base
		var formed_lines_html = "";
		for(i=0; i < issues_number; i++){
			formed_lines_html = formed_lines_html + issue_line_template;
		}
		issue_lines.innerHTML = formed_lines_html;
		
		var issue_line_list = table.getElementsByClassName("issue_line");
		
		for(i=0; i<issues_number; i++){
			var issueObject = issues_data[i];
			var issue_line = issue_line_list[i];
			// get all parameters
			var issueId = issueObject.querySelector("#issueId").innerHTML;
			var createDate = issueObject.querySelector("#createDate").innerHTML;
			var createdBy = issueObject.querySelector("#createdBy").innerHTML;
			var modifyDate = issueObject.querySelector("#modifyDate").innerHTML;
			var modifiedBy = issueObject.querySelector("#modifiedBy").innerHTML;
			var summary = issueObject.querySelector("#summary").innerHTML;
			var description = issueObject.querySelector("#description").innerHTML;
			var status = issueObject.querySelector("#status").innerHTML;
			var resolution = issueObject.querySelector("#resolution").innerHTML;
			var type = issueObject.querySelector("#type").innerHTML;
			var priority = issueObject.querySelector("#priority").innerHTML;
			var project = issueObject.querySelector("#project").innerHTML;
			var buildFound = issueObject.querySelector("#buildFound").innerHTML;
			var assignee = issueObject.querySelector("#assignee").innerHTML;
			
			issue_line.querySelector(".id").innerHTML = issueId;
			issue_line.querySelector(".priority").innerHTML = upCaseFirstLetter(priority.toLowerCase());
			issue_line.querySelector(".priority").id = priority.toLowerCase();
			issue_line.querySelector(".assignee").innerHTML = assignee;
			issue_line.querySelector(".type").innerHTML = upCaseFirstLetter(type.toLowerCase());
			issue_line.querySelector(".status").innerHTML = upCaseFirstLetter(status.toLowerCase());
			issue_line.querySelector(".summary").innerHTML = summary;
		}
	}
	
	// Change the first letter in the string to upper case
	function upCaseFirstLetter(string){
		return string.charAt(0).toUpperCase() + string.slice(1);
	}
</script>

</body>
</html>
